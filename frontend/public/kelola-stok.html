<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kelola Stok - Infinity Cafe</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="css/navbar.css">
  <link rel="stylesheet" href="css/kelola-stok.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
</head>
<body data-page="kelola-stok">
  <!-- Header -->
  <nav class="header">
    <div class="header-brand">
      <h1 class="header-title" id="navbar-title">Management Menu</h1>
      <p class="header-subtitle">Stephany | Barista</p>
    </div>
    <div class="header-menu">
      <button class="nav-btn" id="nav-dashboard" onclick="window.location.href = '/dashboard';">Dashboard</button>
      <button class="nav-btn" id="nav-menu" onclick="window.location.href = '/menu-management';">Menu Management</button>
      <button class="nav-btn" id="nav-stok" onclick="window.location.href = '/stock-management';">Stock Management</button>
    </div>
    <div class="header-right">
      <div class="search-container">
        <i class="fa-solid fa-magnifying-glass search-icon"></i>
        <input type="text" placeholder="Search" class="search-input">
      </div>
      <div class="kitchen-status-container">
        <label class="switch">
          <input type="checkbox" id="kitchen-toggle" checked>
          <span class="slider"></span>
        </label>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <div class="main-container">
    <div class="content-area">
      <!-- Greeting Message -->
      <div class="greeting-message">
        <h2>Hi, John Doe, here's today's stock overview!</h2>
        <p class="greeting-date" id="greeting-date">Monday, 14th July 2025</p>
      </div>

      <!-- Inventory Overview Cards -->
      <div class="inventory-overview">
        <div class="overview-card total-items">
          <div class="card-icon">
            <i class="fas fa-boxes"></i>
          </div>
          <div class="card-content">
            <h3>Total Items</h3>
            <p>Total items at inventory</p>
            <span class="card-number" id="total-items">120</span>
          </div>
        </div>

        <div class="overview-card critical">
          <div class="card-icon">
            <i class="fas fa-exclamation-triangle"></i>
          </div>
          <div class="card-content">
            <h3>Critical</h3>
            <p>Out of stock</p>
            <span class="card-number" id="critical-items">15</span>
          </div>
        </div>

        <div class="overview-card low-stock">
          <div class="card-icon">
            <i class="fas fa-exclamation-circle"></i>
          </div>
          <div class="card-content">
            <h3>Low Stock</h3>
            <p>Running low</p>
            <span class="card-number" id="low-stock-items">15</span>
          </div>
        </div>

        <div class="overview-card warning">
          <div class="card-icon">
            <i class="fas fa-exclamation"></i>
          </div>
          <div class="card-content">
            <h3>Warning</h3>
            <p>Need to restock</p>
            <span class="card-number" id="warning-items">15</span>
          </div>
        </div>
      </div>

             <!-- Quick Action Section -->
       <div class="quick-action-section">
         <div class="quick-action-header">
           <h3>Quick Action</h3>
         </div>
         <div class="quick-action-buttons">
           <button class="add-item-btn" id="add-item-btn">
             <i class="fas fa-plus"></i>
             ADD NEW ITEM
           </button>
           <button class="add-stock-btn" id="add-stock-btn">
             <i class="fas fa-boxes"></i>
             ADD STOCK
           </button>
           <button class="bulk-stock-btn" id="bulk-stock-btn">
             <i class="fas fa-truck"></i>
             BULK STOCK
           </button>
           <button class="consumption-log-btn" id="consumption-log-btn">
             <i class="fas fa-history"></i>
             CONSUMPTION LOG
           </button>
         </div>
       </div>

      <!-- Main Content Area -->
      <div class="main-content-area">
        <!-- Search and Filter Section -->
        <div class="search-filter-section">
          <div class="search-box">
            <i class="fas fa-search"></i>
            <input type="text" placeholder="Search" id="search-input">
          </div>
          <div class="filter-box">
            <i class="fas fa-filter"></i>
            <span>FILTER</span>
          </div>
        </div>

        <!-- Inventory Table -->
        <div class="inventory-table-container">
          <table class="inventory-table">
            <thead>
              <tr>
                <th>No</th>
                <th>Item Name</th>
                <th>Category</th>
                <th>Current Stock</th>
                <th>Threshold</th>
                <th>Unit</th>
                <th>Status</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody id="inventory-tbody">
              <!-- Table rows will be populated by JavaScript -->
            </tbody>
          </table>
        </div>

        <!-- Pagination -->
        <div class="pagination-section">
          <div class="pagination-info">
            <span>Showing 1 to 8 of 8 entries</span>
            <span>Page 1 of 1</span>
          </div>
          <div class="pagination-controls">
            <div class="entries-per-page">
              <span>Show</span>
              <select id="entries-per-page">
                <option value="10">10</option>
                <option value="25">25</option>
                <option value="50">50</option>
                <option value="100">100</option>
              </select>
              <span>entries</span>
            </div>
            <div class="page-numbers">
              <button class="page-btn" data-page="1">1</button>
              <button class="page-btn" data-page="2">2</button>
              <button class="page-btn" data-page="3">3</button>
              <button class="page-btn next-page">
                <i class="fas fa-chevron-right"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Add/Edit Item Modal -->
  <div id="item-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="modal-title">Add New Item</h3>
        <button class="close-btn" id="close-modal">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <form id="item-form">
        <div class="form-group">
          <label for="item-name">Item Name</label>
          <input type="text" id="item-name" name="name" required>
        </div>
        <div class="form-group">
          <label for="item-category">Category</label>
          <select id="item-category" name="category" required>
            <option value="">Select Category</option>
            <option value="ingredient">Ingredient</option>
            <option value="packaging">Packaging</option>
          </select>
        </div>
        <div class="form-group">
          <label for="item-unit">Unit</label>
          <select id="item-unit" name="unit" required>
            <option value="">Select Unit</option>
            <option value="gram">Gram</option>
            <option value="milliliter">Milliliter</option>
            <option value="piece">Piece</option>
          </select>
        </div>
        <div class="form-group">
          <label for="item-current">Current Quantity</label>
          <input type="number" id="item-current" name="current_quantity" min="0" step="0.01" required>
        </div>
        <div class="form-group">
          <label for="item-minimum">Minimum Quantity</label>
          <input type="number" id="item-minimum" name="minimum_quantity" min="0" step="0.01" required>
        </div>
        <div class="form-actions">
          <button type="button" class="btn-secondary" id="cancel-btn">Cancel</button>
          <button type="submit" class="btn-primary">Save</button>
        </div>
      </form>
    </div>
  </div>

     <!-- Delete Confirmation Modal -->
   <div id="delete-modal" class="modal hidden">
     <div class="modal-content delete-modal">
       <div class="modal-header">
         <h3>Delete Item</h3>
         <button class="close-btn" id="close-delete-modal">
           <i class="fas fa-times"></i>
         </button>
       </div>
       <div class="modal-body">
         <p>Are you sure you want to delete this item?</p>
         <p class="item-name" id="delete-item-name"></p>
       </div>
       <div class="form-actions">
         <button type="button" class="btn-secondary" id="cancel-delete-btn">Cancel</button>
         <button type="button" class="btn-danger" id="confirm-delete-btn">Delete</button>
       </div>
     </div>
   </div>

   <!-- Add Stock Modal -->
   <div id="add-stock-modal" class="modal hidden">
     <div class="modal-content">
       <div class="modal-header">
         <h3>Add Stock</h3>
         <button class="close-btn" id="close-add-stock-modal">
           <i class="fas fa-times"></i>
         </button>
       </div>
       <form id="add-stock-form">
         <div class="form-group">
           <label for="stock-ingredient">Select Ingredient</label>
           <select id="stock-ingredient" name="ingredient_id" required>
             <option value="">Select Ingredient</option>
           </select>
         </div>
         <div class="form-group">
           <label for="stock-quantity">Quantity to Add</label>
           <input type="number" id="stock-quantity" name="quantity" min="0" step="0.01" required>
         </div>
         <div class="form-group">
           <label for="stock-notes">Notes (Optional)</label>
           <textarea id="stock-notes" name="notes" rows="3" placeholder="Add any notes about this stock addition..."></textarea>
         </div>
         <div class="form-actions">
           <button type="button" class="btn-secondary" id="cancel-add-stock-btn">Cancel</button>
           <button type="submit" class="btn-primary">Add Stock</button>
         </div>
       </form>
     </div>
   </div>

   <!-- Bulk Stock Modal -->
   <div id="bulk-stock-modal" class="modal hidden">
     <div class="modal-content">
       <div class="modal-header">
         <h3>Bulk Add Stock</h3>
         <button class="close-btn" id="close-bulk-stock-modal">
           <i class="fas fa-times"></i>
         </button>
       </div>
       <form id="bulk-stock-form">
         <div class="form-group">
           <label>Stock Items</label>
           <div id="bulk-stock-items">
             <div class="bulk-stock-item">
               <select name="ingredient_id[]" required>
                 <option value="">Select Ingredient</option>
               </select>
               <input type="number" name="quantity[]" placeholder="Qty" min="0" step="0.01" required>
               <button type="button" class="remove-bulk-item-btn" onclick="removeBulkItem(this)">
                 <i class="fas fa-minus"></i>
               </button>
             </div>
           </div>
           <button type="button" class="btn-secondary" id="add-bulk-item-btn">
             <i class="fas fa-plus"></i> Add Another Item
           </button>
         </div>
         <div class="form-group">
           <label for="bulk-stock-notes">Notes (Optional)</label>
           <textarea id="bulk-stock-notes" name="notes" rows="3" placeholder="Add any notes about this bulk stock addition..."></textarea>
         </div>
         <div class="form-actions">
           <button type="button" class="btn-secondary" id="cancel-bulk-stock-btn">Cancel</button>
           <button type="submit" class="btn-primary">Add Bulk Stock</button>
         </div>
       </form>
     </div>
   </div>

   <!-- Consumption Log Modal -->
   <div id="consumption-log-modal" class="modal hidden">
     <div class="modal-content">
       <div class="modal-header">
         <h3>Consumption Log</h3>
         <button class="close-btn" id="close-consumption-log-modal">
           <i class="fas fa-times"></i>
         </button>
       </div>
       <div class="consumption-log-content">
         <div class="log-filters">
           <input type="text" id="log-search" placeholder="Search by order ID...">
           <button class="btn-secondary" id="refresh-logs-btn">Refresh</button>
         </div>
         <div class="log-table-container">
           <table class="log-table">
             <thead>
               <tr>
                 <th>Order ID</th>
                 <th>Menu Items</th>
                 <th>Consumed</th>
                 <th>Rolled Back</th>
                 <th>Date</th>
               </tr>
             </thead>
             <tbody id="consumption-log-tbody">
               <!-- Log entries will be populated here -->
             </tbody>
           </table>
         </div>
       </div>
     </div>
   </div>

   <script src="js/kelola-stok.js"></script>
 </body>
 </html>
