<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Usulan Menu - Infinity Cafe</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="css/responsive-tables.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
</head>
<body data-page="menu_suggestion">
  <!-- Header -->
  <nav class="header">
    <div class="header-brand">
      <h1 class="header-title" id="navbar-title">Usulan Menu</h1>
      <p class="header-subtitle">Stephany</p>
    </div>
    <div class="header-menu">
      <button class="nav-btn" id="nav-dashboard">Dashboard</button>
      <button class="nav-btn active" id="nav-menu">Menu Management</button>
      <!-- <button class="nav-btn" id="nav-suggestion">Usulan Menu</button> -->
      <button class="nav-btn" id="nav-stok">Stock Management</button>
      <button class="nav-btn" id="nav-report">Reports</button>
    </div>
         <div class="header-right">
       <!-- Search moved to table area -->

      <div class="kitchen-status-container">
        <label class="switch">
          <input type="checkbox" id="kitchen-toggle" checked>
          <span class="slider"></span>
        </label>
      </div>
     </div>
  </nav>

    <!-- Kitchen Off Banner -->
  <div id="kitchen-off-banner" class="kitchen-off-banner hidden">
      ðŸš« Dapur sedang OFF. Tidak dapat menerima/memproses pesanan.
  </div>

  <!-- Offline Banner -->
  <div id="offline-banner" class="offline-banner hidden">
      ðŸ”Œ Gagal ambil data. Cek koneksi.
  </div>

  <!-- Main Content -->
  <div class="main-container">
    <div class="content-area">
      <!-- Greeting Message -->
      <div class="greeting-message">
        <h2>Usulan Menu dari Pelanggan</h2>
        <!-- <p class="greeting-date">Kelola dan lihat usulan menu dari pelanggan setia kami</p> -->
        <p class="greeting-date" id="greeting-date">Monday, 14th July 2025</p>
      </div>

      <!-- Tab Navigation -->
      <div class="tab-navigation">
        <button id="tab-menu" class="tab-btn" onclick="navigateToMenuTab('menu')">MENU</button>
        <button id="tab-flavors" class="tab-btn" onclick="navigateToMenuTab('flavors')">FLAVORS</button>
        <button id="tab-menu-suggestion" class="tab-btn tab-active tab-menu-suggestion" onclick="switchTab('menu_suggestion')">MENU SUGGESTION</button>
        <button class="add-order-btn menu-suggestion" onclick="openSuggestionModal()">ADD NEW MENU SUGGESTION</button>
      </div>

      <!-- Action Buttons -->
      <!-- <div class="action-buttons">
        <button class="btn btn-primary" onclick="openSuggestionModal()">
          <i class="fas fa-plus"></i> Tambah Usulan Baru
        </button>
        <button class="btn btn-secondary" onclick="refreshSuggestions()">
          <i class="fas fa-sync-alt"></i> Refresh
        </button>
      </div> -->

      <!-- Statistics Cards -->
      <div class="stats-container">
        <div class="stat-card">
          <div class="stat-icon">
            <i class="fas fa-lightbulb"></i>
          </div>
          <div class="stat-content">
            <h3 class="stat-title">Total Usulan</h3>
            <h3 class="stat-total" id="total-suggestions">0</h3>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">
            <i class="fas fa-calendar-day"></i>
          </div>
          <div class="stat-content">
            <h3 class="stat-title">Usulan Hari Ini</h3>
            <h3 class="stat-total" id="today-suggestions">0</h3>
          </div>
        </div>
        <!-- <div class="stat-card">
          <div class="stat-icon">
            <i class="fas fa-star"></i>
          </div>
          <div class="stat-content">
            <h3 id="popular-suggestions">0</h3>
            <p>Usulan Populer</p>
          </div>
        </div> -->
      </div>

      <!-- Suggestions List -->
      <!-- <div id="tab-menu-suggestion-content" class="tab-panel"> -->
        <div class="table-container">
          <!-- Search and Filter Section for Menu Suggestion -->
          <div class="search-filter-section">
              <div class="search-container">
                <i class="fa-solid fa-magnifying-glass search-icon"></i>
                <input type="text" placeholder="Search menu suggestion..." class="search-input" id="search-suggestions">
              </div>
              <div class="filter-container">
                <button class="filter-btn" onclick="toggleSuggestionFilter()">
                  <i class="fas fa-filter"></i>
                  Filter
                </button>
                <div class="filter-dropdown" id="suggestion-filter-dropdown">
                  <div class="filter-group">
                    <label>Urutan:</label>
                    <select id="suggestion-sort-filter">
                      <option value="newest">Terbaru</option>
                      <option value="oldest">Terlama</option>
                      <option value="popular">Terpopuler</option>
                    </select>
                  </div>
                  <div class="filter-group">
                    <label>Rentang Waktu:</label>
                    <div class="date-range">
                      <input class="date-input" type="date" id="suggestion-date-min" placeholder="Tanggal Mulai">
                      <span>-</span>
                      <input class="date-input" type="date" id="suggestion-date-max" placeholder="Tanggal Akhir">
                    </div>
                  </div>
                  <div class="filter-actions">
                    <button class="apply-filter-btn" onclick="applySuggestionFilter()">Apply</button>
                    <button class="clear-filter-btn" onclick="clearSuggestionFilter()">Clear</button>
                  </div>
                </div>
              </div>
          </div>
          
          <!-- Table Info -->
          <div class="table-info">
            <!-- <span id="suggestions-table-info">Showing 0 of 0 entries</span> -->
            <span id="pagination-info">Showing 0 of 0 entries</span>
          </div>
          
          <table id="suggestions-table">
            <thead>
              <tr>
                <th>NO</th>
                <th>MENU NAME</th>
                <th>CUSTOMER</th>
                <th>DATE</th>
                <th class="action-header">ACTION</th>
              </tr>
            </thead>
            <tbody id="suggestions-tbody">
              <!-- Suggestions will be loaded here -->
            </tbody>
          </table>

          <!-- <div id="loading-suggestions" class="loading-spinner hidden">
            <i class="fas fa-spinner fa-spin"></i>
            <p>Memuat usulan menu...</p>
          </div> -->
          
          <!-- <div id="no-suggestions" class="no-data hidden">
            <i class="fas fa-inbox"></i>
            <h3>Belum ada usulan menu</h3>
            <p>Jadilah yang pertama memberikan usulan menu untuk Infinity Cafe!</p>
          </div> -->
          
          <!-- Pagination -->
          <div class="pagination-container" id="pagination-container">
            <div class="pagination-info">
              <span id="pagination-info">Page 1 of 1</span>
            </div>
            <div class="pagination-controls">
              <button class="pagination-btn" id="prev-page" onclick="changePage(-1)" disabled>
                <i class="fas fa-chevron-left"></i>
              </button>
              <div class="page-numbers" id="page-numbers">
                <!-- Page numbers will be generated here -->
              </div>
              <button class="pagination-btn" id="next-page" onclick="changePage(1)" disabled>
                <i class="fas fa-chevron-right"></i>
              </button>
            </div>
            <div class="pagination-size">
              <span>Show:</span>
              <select id="page-size" onchange="changePageSize()">
                <option value="10">10</option>
                <option value="25">25</option>
                <option value="50">50</option>
                <option value="100">100</option>
              </select>
              <span>entries</span>
            </div>
          </div>
        </div>
      <!-- </div> -->

    </div>
  </div>

  <!-- Add Suggestion Modal -->
  <div id="suggestion-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">Add New Menu Suggestion</h3>
        <button class="modal-close" onclick="closeSuggestionModal()">
          &times;
        </button>
      </div>
      <div class="modal-body">
        <form id="suggestion-form">
          <div class="form-group">
            <label for="menu-name">Menu Name</label>
            <input type="text" id="menu-name" name="menu_name" class="form-input" 
              placeholder="e.g. Kopi Gula Aren, Croissant Coklat" required>
            <!-- <small class="form-help">Berikan nama menu yang jelas dan menarik</small> -->
          </div>
          <div class="form-group">
            <label for="customer-name">Customer</label>
            <input type="text" id="customer-name" name="customer_name" class="form-input" 
              placeholder="Masukkan nama Anda" required>
            <!-- <small class="form-help">Nama Anda akan dicatat sebagai pemberi usulan</small> -->
          </div>
          <div class="form-group">
            <label for="menu-description">Description (Opsional)</label>
            <textarea id="menu-description" name="description" class="form-textarea" 
              placeholder="Deskripsi detail..."></textarea>
            <!-- <small class="form-help">Tambahkan detail seperti bahan, cara penyajian, atau alasan mengapa menu ini menarik</small> -->
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <!-- <button class="btn btn-secondary" onclick="closeSuggestionModal()">Batal</button> -->
        <button class="save-button" onclick="submitSuggestion()">
          <i class="fas fa-paper-plane"></i> Kirim Usulan
        </button>
      </div>
    </div>
  </div>



  <!-- View Suggestion Detail Modal -->
  <div id="view-suggestion-modal" class="modal hidden">
    <div class="modal-content view-modal">
      <button class="modal-close" onclick="closeViewSuggestionModal()">
        &times;
      </button>
      <h3 class="modal-title">Detail Usulan Menu</h3>
      <div class="view-content">
        <div class="view-item">
          <label>Nama Menu</label>
          <span id="view-menu-name">-</span>
        </div>
        <div class="view-item">
          <label>Customer</label>
          <span id="view-customer-name">-</span>
        </div>
        <div class="view-item">
          <label>Tanggal</label>
          <span id="view-timestamp">-</span>
        </div>
        <div class="view-item">
          <label>ID Usulan</label>
          <span id="view-usulan-id">-</span>
        </div>
        <div class="view-item">
          <label>Deskripsi</label>
          <span id="view-description" class="flavor-display"></span>
        </div>
      </div>
      <div class="modal-actions">
        <!-- <button class="modal-btn modal-btn-cancel" onclick="closeViewSuggestionModal()">Tutup</button> -->
        <!-- <button class="modal-btn" onclick="approveSuggestionFromView()">Setujui</button> -->
      </div>
    </div>
  </div>

  <script src="script.js"></script>
  <script src="js/menu-suggestion.js"></script>
</body>
</html>


